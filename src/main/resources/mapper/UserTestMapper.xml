<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.example.warehousemanagersystem.service.user.mapper.UserTestMapper">


    <insert id="addUser" parameterType="org.example.warehousemanagersystem.service.user.pojo.UserPOJO" useGeneratedKeys="true" keyProperty="id" >
        insert into f_store_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="addTime != null and addTime != ''">
                addTime,
            </if>
            <if test="employeeNo != null and employeeNo != ''">
                employeeNo,
            </if>
            <if test="secret != null and secret != ''">
                secret,
            </if>
            <if test="userName != null and userName != ''">
                userName,
            </if>
            <if test="sex != null ">
               sex,
            </if>
            <if test="userAvatar != null and userAvatar!='' ">
                userAvatar,
            </if>
            <if test="age != null and age>0 ">
                age,
            </if>
            <if test="mobile != null and mobile>0 ">
                mobile,
            </if>
            <if test="remark != null and remark!='' ">
                remark,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="addTime != null and addTime != ''">
                #{addTime},
            </if>
            <if test="employeeNo != null and employeeNo != ''">
                #{employeeNo},
            </if>
            <if test="secret != null and secret != ''">
                #{secret},
            </if>
            <if test="userName != null and userName != ''">
                #{userName},
            </if>
            <if test="sex != null ">
                #{sex},
            </if>
            <if test="userAvatar != null and userAvatar!='' ">
                #{userAvatar},
            </if>
            <if test="age != null and age>0 ">
                #{age},
            </if>
            <if test="mobile != null and mobile>0 ">
                #{mobile},
            </if>
            <if test="remark != null and remark!='' ">
                #{remark},
            </if>
        </trim>
    </insert>
    <sql id="selectSql">
        <if test="id != null and id > 0 ">
            and id = #{id}
        </if>
        <if test="f_employee_no != null and f_employee_no > 0 ">
            and employeeNo = #{f_employee_no}
        </if>
        <if test="f_user_name != null and f_user_name > 0 ">
            and userName = #{f_user_name}
        </if>
    </sql>
    <select id="listUser" resultType="org.example.warehousemanagersystem.service.user.vo.UserGetVO" parameterType="org.example.warehousemanagersystem.service.user.bo.UserGetBO">
        SELECT * from f_store_user
        where 1 = 1<include refid="selectSql"/>
        order by addtime desc
        <if test="page != null">
            limit #{pageSize},#{limit}
        </if>
    </select>
    <select id="getOne" resultType="org.example.warehousemanagersystem.service.user.vo.UserGetVO" parameterType="org.example.warehousemanagersystem.service.user.bo.UserGetBO">
        SELECT * from f_store_user
        where 1 = 1<include refid="selectSql"/>
        limit 1

    </select>
</mapper>